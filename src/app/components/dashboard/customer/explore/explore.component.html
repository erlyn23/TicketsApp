<ion-header>
  <ion-toolbar color="primary"> 
    <img *ngIf="!isSearch" width="60%" src="../../../../../assets/img/logo-login.png" alt="logo">
    <ion-searchbar *ngIf="isSearch" placeholder="Buscar negocio" [(ngModel)]="searchFilter" name="searchFilter" 
        (ionChange)="searchForBusiness($event, businessList)"></ion-searchbar>
    <ion-button slot="end" fill="clear" style="color: var(--ion-color-primary-contrast)" (click)="toggleSearch()">
      <ion-icon *ngIf="!isSearch" slot="icon-only" name="search"></ion-icon>
      <ion-icon *ngIf="isSearch" slot="icon-only" name="close-circle"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content color="primary">

  <div id="clientsMap" style="height: 300px;">
    &nbsp;
  </div>

  <ion-list color="primary" *ngIf="searchBusiness.length === 0 && searchFilter.length === 0">
    <ion-item color="primary" lines="none" *ngFor="let business of businessList, let i = index">
      <ion-thumbnail>
        <img *ngIf="business.businessPhoto != ''" [src]="business.businessPhoto" />
        <img *ngIf="business.businessPhoto == ''" src="./../../../../../assets/img/business-default.png" alt="">
      </ion-thumbnail>
      <ion-label>
        <ion-title style="font-size: 15px;" (click)="goToBusinessDetails(business)">
          {{business.businessName}}
          <div *ngIf="business.isOpened">Abierto ahora</div>
          <div *ngIf="!business.isOpened">Cerrado</div>
        </ion-title>
      </ion-label>
      <ion-button fill="clear" (click)="addBusinessToFavouriteList(business)">
        <ion-icon slot="icon-only" name="star"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>

  <ion-list color="primary" *ngIf="searchBusiness.length > 0 && searchFilter.length > 0">
    <ion-item color="primary" lines="none" *ngFor="let business of searchBusiness, let i = index">
      <ion-thumbnail>
        <img *ngIf="business.businessPhoto != ''" [src]="business.businessPhoto" />
        <img *ngIf="business.businessPhoto == ''" src="./../../../../../assets/img/business-default.png" alt="">
      </ion-thumbnail>
      <ion-label>
        <ion-title style="font-size: 15px;" (click)="goToBusinessDetails(business)">
          {{business.businessName}}
          <div *ngIf="business.isOpened">Abierto ahora</div>
          <div *ngIf="!business.isOpened">Cerrado</div>
        </ion-title>
      </ion-label>
      <ion-button fill="clear" (click)="addBusinessToFavouriteList(business)">
        <ion-icon slot="icon-only" name="star"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>

  <div class="no-search-matching" *ngIf="searchBusiness.length === 0 && searchFilter.length > 0" style="width: 100%; color: white; text-align: center;">
    <p><em>No existen negocios con este nombre</em></p>
  </div>
</ion-content>
