<ion-content>
    <div class="photo-container">
        <ion-grid>
            <ion-row>
                <ion-col size="5"> 
                    <img class="profile" src="../../../../../assets/icon/Recurso12.png" height="100" *ngIf="business.businessPhoto === '' || business.businessPhoto === undefined">
                    <img [src]="business.businessPhoto" class="profile" alt="" *ngIf="profilePhoto !== undefined">
                </ion-col>
                <ion-col size="7">
                    <div class="user-names">
                        <span>{{business.businessName}}</span>
                        <span style="font-weight: normal;">
                          <small>Abierto</small> &nbsp;<ion-toggle style="padding: 4px" color="secondary" [(ngModel)]="business.isOpened" (ionChange)="updateBusinessStatus($event)"></ion-toggle>
                        </span>
                      </div>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <div class="title-bar">
        <span>Listado de turnos</span>
        <button class="toggle-order-button" (click)="toggleReorder()">
            <ion-icon id="toggle-icon" slot="icon-only" name="reorder-three-outline"></ion-icon>
        </button>  
    </div>
    <ion-list style="background: var(--ion-color-primary-contrast);">
        <ion-reorder-group #turnsReorder id="reorder-parent" (ionItemReorder)="reorderTurns($event)" disabled="true">
            <ion-reorder *ngFor="let turn of turns, let i = index">
                <ion-item lines="none">
                    <ion-thumbnail>
                        <img src="../../../../../assets/icon/Recurso12.png" class="avatar"
                                alt="" *ngIf="turn.clientPhoto === undefined">
                        <img [src]="turn.clientPhoto" class="avatar"
                                alt="" *ngIf="turn.clientPhoto !== undefined">
                    </ion-thumbnail>
                    <ion-label>
                        <span class="client-name">{{turn.clientName}} <span>#{{turn.turnNum}}</span></span>
                        <div>{{turn.employeeName}}</div>
                        <div><small>{{turn.reserveDate | date:'dd/MM/YYYY'}} {{turn.reserveHour | date:'h:mm a'}}</small></div>
                    </ion-label>
                    <ion-button size="large" fill="clear" style="color: var(--ion-color-danger);" (click)="openCancelTurn(turn)">
                        <ion-icon slot="icon-only" name="close-circle"></ion-icon>
                    </ion-button>
                </ion-item>
            </ion-reorder>
        </ion-reorder-group>
    </ion-list>
    
</ion-content> 