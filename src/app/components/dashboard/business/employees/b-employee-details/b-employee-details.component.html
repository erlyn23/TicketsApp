<ion-header>
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-button (click)="closeModal()">
                <ion-icon slot="start" name="arrow-back"></ion-icon>
            </ion-button>
        </ion-buttons>
        <ion-title>{{data.fullName}}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-segment swipeGesture (ionChange)="setSlide($event)" [(ngModel)]="employeeDetailPage" name="employeeDetailPage" value="employeeInfo">
        <ion-segment-button value="employeeInfo">
            <ion-label>Información</ion-label>
        </ion-segment-button>
        <ion-segment-button value="employeeComments">
            <ion-label>Comentarios</ion-label>
        </ion-segment-button>
    </ion-segment>

    <ion-slides [options]="slideOpts" #slideCtrl (ionSlideDidChange)="setSegment($event)" pager="false">
        <ion-slide>
            <ion-list>
                <ion-item lines="none">
                    <ion-label><b>Especialidad:</b> {{dbEmployee.employeeSpecialty}}</ion-label>
                </ion-item>
                <ion-item lines="none">
                    <ion-label><b>Calificación actual: </b>
                        <span [ngSwitch]="dbEmployee.rating">
                            <span *ngSwitchCase="1">
                                <i class="fas fa-star"></i>
                            </span>
                            <span *ngSwitchCase="2">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </span>
                            <span *ngSwitchCase="3">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </span>
                            <span *ngSwitchCase="4">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </span>
                            <span *ngSwitchCase="5">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                            </span>
                            <span *ngSwitchDefault>
                                <span style="color: gray; text-shadow: none;"><em>No calificado</em></span>
                            </span>
                        </span>    
                    </ion-label>
                </ion-item>
                <ion-item lines="none">
                    <ion-label>
                        <b>Total de clientes en turno:</b> {{dbEmployee.clientsInTurn}}
                    </ion-label>
                </ion-item>
            </ion-list>
        </ion-slide>
        <ion-slide>
            <div *ngIf="employeeDetailPage === 'employeeComments'" class="employee-comments-container">
                <ion-list class="comments-container">
                    <ion-item lines="none" *ngFor="let comment of employeeComments">
                        <div class="comments-card">
                            <ion-card-title>{{comment.user}}</ion-card-title>
                            <div style="word-break: break-all;">
                                <p>{{comment.comment}}</p>
                                <p class="right"><small>{{comment.commentDate}}</small></p>
                            </div>
                        </div>
                    </ion-item>
                </ion-list>
            </div>
        </ion-slide>
    </ion-slides>
</ion-content>